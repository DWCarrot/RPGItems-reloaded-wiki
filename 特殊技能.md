# 特殊技能（command系列）
## aoecommand

**指令：**
`/rpgitem power {Item} aoecommand {cooldown} {isRight} {display} {command} {rm} {r} {facing} [permission]`

**效果：**
给 {Item}添加AOE指令技能, 冷却时间为 {cooldown}. 若{isRight}为right则右键触发否则为left左键触发，工具提示为 {display}. {command}会在{isRight}后对范围({rm} ~ {r} 在 {facing} 视角)内的实体运行 并需要给对应角色运行此{command}的 {permission}

**属性**
- cooldownTime
  - 类型：long
  - 设定状态：必选
  - 作用：设定技能冷却时间
- isRight
  - 类型：left/right
  - 设定状态：必选
  - 作用：设定左键或者右键
- display
  - 类型：string
  - 设定状态：必选
  - 作用：设定技能描述字符
- command
  - 类型：string
  - 设定状态：必选
  - 作用：设定技能触发时的指令（可为任何minecraft指令方块或者聊天框中输入的可执行指令）
  - 特殊转换：可在指令中替换成某些特殊数值的固定字符串
    - 使用者：
      - `{player}` : 可转换为当前使用者名字
      - `{player.x}`: 可转换为当前使用者的x坐标
      - `{player.y}`: 可转换为当前使用者的y坐标
      - `{player.z}`: 可转换为当前使用者的z坐标
      - `{player.yaw}`: 可转换为当前使用者视线水平转角
      - `{player.pitch}`: 可转换喂当前使用者的视线仰角
    - 被执行者：
      - `{entity}`: 每个被执行者的名字（注意是名字例如是僵尸，那就叫`僵尸`）
      - `{entity.x}` : 每个被执行者的x坐标
      - `{entity.y}` : 每个被执行者的y坐标
      - `{entity.z}` : 每个被执行者的z坐标
      - `{entity.yaw}` : 每个被执行者的视线水平转角
      - `{entity.pitch}` : 每个被执行者的视线仰角
      - `{entity.uuid}` : 每个被执行者的uuid
    - #### 转换不支持运算，例如`{player.yaw}+90`不可行
- rm
  - 类型：int
  - 默认：0
  - 设定状态：必选
  - 作用：索敌范围的最小半径
- r
  - 类型：int
  - 默认：10
  - 设定状态：必选
  - 作用：索敌范围的最大半径
- facing
  - 类型：int
  - 默认：30
  - 设定状态：必选
  - 作用:使用者当前视线偏转角度（圆锥型范围）
- permission
  - 类型：string
  - 设定状态：可选
  - 作用：使用者执行{command}时候需要的权限节点（仅支持单节点，多节点不支持，为`*`的话就是赋予op权限）
- c
  - 类型：int
  - 设定状态：附加
  - 默认：100
  - 作用：设定最大捕获的被执行者数量
- mustsee
  - 类型：boolean
  - 设定状态：附加
  - 默认：false
  - 作用：只适用于被玩家视线看到的实体
- selfapplication
  - 类型：boolean
  - 设定状态：附加
  - 默认：false
  - 作用：指令是否作用于使用者本身
- type
  - 类型：entity/player/mobs
  - 设定状态：附加
  - 默认：entity
  - 作用：指令作用者类型
- consumption
  - 类型：int
  - 设定状态：附加
  - 作用：消耗量，详见 [新消耗系统](https://github.com/NyaaCat/RPGitems-reloaded/wiki/New-durability-system)章节

**示例**
```
/rpgitem testaoecommand power aoecommand 20 right `say hello` `/say {entity} hello` 0 20 360 minecraft.command.say
```
**效果**：让使用者为中心0-20范围内的所有LivingEntity类型的实体说一声：(实体名字) hello。

**注释1**：注意这个指令的使用者是使用者本人，如果使用相对位置 `~` 符号的话也只是根据使用者当前位置进行计算而非每个被执行者的位置。并且执行指令的次数为当前技能捕获到的被执行者的个数相同。

**注释2**：有些指令（例如`execute`）拥有可以越权的权限，需要特别注意。


## command

**指令：**
`/rpgitem power {Item} command {cooldown} {isRight} {display} {command} [permission]`

**效果：**
给 {Item} 添加指令技能, 冷却时间为 {cooldown}. 工具提示为{display}. {command}  会在 {isRight}（left/right）后运行, 并给予运行此  {command} 的 [permission]. ***注意***: 如果你想在 {display} 或 {command} 或 [permission] 打空格, 那么要在字符串周围加 `符号. 例如: `/say Hello`'

- cooldownTime
  - 类型：long
  - 设定状态：必选
  - 作用：设定技能冷却时间
- isRight
  - 类型：left/right
  - 设定状态：必选
  - 作用：设定左键或者右键
- display
  - 类型：string
  - 设定状态：必选
  - 作用：设定技能描述字符
- command
  - 类型：string
  - 设定状态：必选
  - 作用：设定技能触发时的指令（可为任何minecraft指令方块或者聊天框中输入的可执行指令）
  - 特殊转换：可在指令中替换成某些特殊数值的固定字符串
    - 使用者：
      - `{player}` : 可转换为当前使用者名字
      - `{yaw}`: 可转换为当前使用者视线水平转角
      - `{pitch}`: 可转换喂当前使用者的视线仰角
    - #### 转换不支持运算，例如`{yaw}+90`不可行
- consumption
  - 类型：int
  - 设定状态：附加
  - 作用：消耗量，详见 [新消耗系统](https://github.com/NyaaCat/RPGitems-reloaded/wiki/New-durability-system)章节

**示例**
```
/rpgitem testcommand power command 20 right `say hello` `/say hello` minecraft.command.say
```
**效果**：让使用者在聊天频道打出hello。

**注释**：有些指令（例如`execute`）拥有可以越权的权限，需要特别注意。

##commandhit

**指令：**
`/rpgitem power {Item} commandhit {cooldown} {display} {command} [permission]`

**效果：**
给 {Item} 添加击中指令技能. 冷却时间为 {cooldown}. 工具提示为 {display} . {command} 会在击中目标后执行,并给予运行{command} 的 [permission]. 
***注意***: 如果你想在 {display} 或 {command} 或 [permission] 输入空格, 那么要在字符串周围加`符号. 例如: `/say Hello`'
- cooldownTime
  - 类型：long
  - 设定状态：必选
  - 作用：设定技能冷却时间
- isRight
  - 类型：left/right
  - 设定状态：必选
  - 作用：设定左键或者右键
- display
  - 类型：string
  - 设定状态：必选
  - 作用：设定技能描述字符
- command
  - 类型：string
  - 设定状态：必选
  - 作用：设定技能触发时的指令（可为任何minecraft指令方块或者聊天框中输入的可执行指令）
  - 特殊转换：可在指令中替换成某些特殊数值的固定字符串
    - 使用者：
      - `{player}` : 可转换为当前使用者名字
      - `{player.x}`: 可转换为当前使用者的x坐标
      - `{player.y}`: 可转换为当前使用者的y坐标
      - `{player.z}`: 可转换为当前使用者的z坐标
      - `{player.yaw}`: 可转换为当前使用者视线水平转角
      - `{player.pitch}`: 可转换喂当前使用者的视线仰角
    - 被执行者：
      - `{entity}`: 每个被执行者的名字（注意是名字例如是僵尸，那就叫`僵尸`）
      - `{entity.x}` : 每个被执行者的x坐标
      - `{entity.y}` : 每个被执行者的y坐标
      - `{entity.z}` : 每个被执行者的z坐标
      - `{entity.yaw}` : 每个被执行者的视线水平转角
      - `{entity.pitch}` : 每个被执行者的视线仰角
      - `{entity.uuid}` : 每个被执行者的uuid
    - #### 转换不支持运算，例如`{player.yaw}+90`不可行
- minDamage
  - 类型:int
  - 设定状态：附加
  - 默认：0
  - 作用：最小触发伤害
- consumption
  - 类型：int
  - 设定状态：附加
  - 作用：消耗量，详见 [新消耗系统](https://github.com/NyaaCat/RPGitems-reloaded/wiki/New-durability-system)章节

**示例**
```
/rpgitem testcommandhit power commandhit 20 `say hello` `/say {entity} hello` minecraft.command.say
```
**效果**：让使用者在聊天频道里向被攻击者打出hello。

**注释**：有些指令（例如`execute`）拥有可以越权的权限，需要特别注意。



